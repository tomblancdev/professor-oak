# Architecture: File Protection

## Protected Files (.claudeignore)

Claude cannot directly access these files - must use MCP tools.

```gitignore
# .claudeignore
# Claude cannot directly access these - must use MCP

# Game configuration (root level)
pokedex.yaml
trainer.yaml

# Topic configuration (per topic)
**/progress.yaml
**/rewards.yaml

# Generated assets (MCP creates these)
**/rewards/*.svg
**/rewards/*.png
```

---

## Why Protect These Files?

| File | Reason |
|------|--------|
| `pokedex.yaml` | Pokemon catches must go through validation |
| `trainer.yaml` | Points must be calculated correctly |
| `progress.yaml` | Completion tracking must be consistent |
| `rewards.yaml` | Badge/reward data integrity |
| `rewards/*` | Assets generated by MCP only |

---

## What Claude CAN Access

| File Type | Access | Purpose |
|-----------|--------|---------|
| `courses/**/*.md` | Read/Write | Generate & read course content |
| `exercices/**/exercice.md` | Read/Write | Generate & read exercise instructions |
| `exercices/**/sandbox/*` | Read/Write | Help user with exercises |
| `extras/**/*.md` | Read/Write | Generate extra learning content |

---

## Enforcement Flow

```
User: "Add 1000 points to my trainer"

Claude tries: Edit trainer.yaml directly
→ BLOCKED by .claudeignore

Claude must: Call MCP addPoints(1000, "manual", {})
→ MCP validates and rejects (no "manual" point additions allowed)

Result: Points can only be earned through legitimate game actions
```
